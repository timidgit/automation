<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UML-Modell: Informationssicherheits-Risikomanagement (Golden Thread)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* Light gray background */
        }
        .mermaid svg {
            max-width: 100%;
            height: auto;
        }
        .header-title {
            
            background: linear-gradient(45deg, #0033A0, #0055C7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-8">
    <div class="max-w-7xl mx-auto bg-white p-6 md:p-10 rounded-2xl shadow-lg border border-gray-200">
        <header class="mb-8 border-b border-gray-200 pb-6 text-center">
            <h1 class="text-3xl md:text-4xl font-bold header-title">
                Informationssicherheits-Risikomanagement
            </h1>
            <p class="text-lg text-gray-600 mt-2">Visualisierung des "Golden Thread" als anwendungsbezogenes UML-Modell</p>
            <p class="text-sm text-gray-500 mt-3">Dieses Modell operationalisiert den Risikomanagementprozess gemäß NFRM und ISO/IEC 27005.</p>
        </header>

        <div class="bg-gray-50 p-4 rounded-xl overflow-auto">
            <pre class="mermaid" id="golden-thread-infosec-uml">
                <!-- Die Mermaid-Diagrammdefinition wird hier dynamisch eingefügt -->
            </pre>
        </div>

        <footer class="mt-8 text-center text-sm text-gray-500">
            <p>Das Diagramm stellt die durchgängige Verknüpfungskette von strategischen Zielen bis zur operativen Risikoakzeptanz dar.</p>
        </footer>
    </div>

    <script>
        /**
         * Erzeugt die Mermaid.js-Syntax für das UML-Klassendiagramm.
         * Diese Funktion übersetzt die prozessualen Schritte des Informationssicherheits-Risikomanagements
         * in ein visuelles Modell, das dem "Golden Thread" folgt.
         */
        function generateMermaidSyntax() {
            // Die Mermaid-Syntax definiert die Artefakte und ihre Beziehungen im Prozess.
            const mermaidString = `
graph TD
    subgraph "Strategische Ebene (Governance)"
        direction TB
        A["<b>1. Geschäftsziel</b><br/><<Goal / BUS>> <br/><i>Business Goal</i>"]
        B["<b>2. Kontrollziel</b><br/><<Goal / CTL>> <br/><i>Control Objective</i>"]
        C["<b>3. NFRM-Risikovektor</b><br/><<RiskKind>> <br/><i>NFRM Risk Vector</i>"]
    end

    subgraph "Taktische Ebene (Analyse & Bewertung)"
        direction TB
        D["<b>4. IS-Risikoszenario</b><br/><<Risk>> <br/><i>(Asset, Threat, Vulnerability)</i>"]
        E["<b>5. Risikobewertung</b><br/><<WorkUnit>> <br/><i>Risk Assessment</i>"]
    end

    subgraph "Operative Ebene (Behandlung & Nachweis)"
        direction TB
        F["<b>6. IS-Kontrolle</b><br/><<WorkUnit>> <br/><i>IS Control</i>"]
        G["<b>7. Operativer Nachweis</b><br/><<Evidence>> <br/><i>Operational Evidence</i>"]
        H["<b>8. Assurance / Kontrolltesting</b><br/><<WorkUnit (Test)>> <br/><i>Assurance / Control Testing</i>"]
        I["<b>9. Restrisiko & Akzeptanz</b><br/><<Risk & WorkUnit>> <br/><i>Residual Risk & Acceptance</i>"]
    end

    %% Definition der Beziehungen (der "Golden Thread")
    A -- "leitet ab" --> B
    B -- "wird adressiert durch" --> C
    C -- "manifestiert sich in" --> D
    D -- "wird unterzogen" --> E
    E -- "informiert" --> F
    D -.->|wird gemindert durch| F
    F -- "erzeugt" --> G
    F -- "wird geprüft durch" --> H
    E -- "führt zur Entscheidung über" --> I
    G -- "bestätigt Erfüllung von" --> B
    H -- "verifiziert Effektivität für" --> B

    %% Styling der Knoten zur besseren Lesbarkeit
    classDef goal fill:#e0e7ff,stroke:#a5b4fc,stroke-width:2px,color:#3730a3
    classDef risk fill:#fee2e2,stroke:#fca5a5,stroke-width:2px,color:#991b1b
    classDef workunit fill:#d1fae5,stroke:#86efac,stroke-width:2px,color:#14532d
    classDef evidence fill:#fefce8,stroke:#fde047,stroke-width:2px,color:#854d0e

    class A,B goal
    class C,D,I risk
    class E,F,H workunit
    class G evidence
`;
            return mermaidString;
        }

        document.addEventListener('DOMContentLoaded', () => {
            // Mermaid.js Rendering Logik
            const umlContainer = document.getElementById('golden-thread-infosec-uml');
            const mermaidSyntax = generateMermaidSyntax();
            umlContainer.textContent = mermaidSyntax;
            mermaid.run();
        });
    </script>
</body>
</html>
